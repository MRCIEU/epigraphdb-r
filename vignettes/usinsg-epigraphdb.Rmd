---
title: "Using epigraphdb"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Use epigraphdb}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Introduction

```{r setup}
library("epigraphdb")
```

## Queries

By default, for ease of use, the query returns a data frame
(a [`tibble`](https://tibble.tidyverse.org/) as per tidyverse convention).

```{r}
df <- mr(exposure = "Body mass index",
         outcome = "Coronary heart disease")
df
```

Alternatively, you can use `results_type = "raw"` to get response
from EpiGraphDB API.

```{r}
response <- mr(exposure = "Body mass index",
               outcome = "Coronary heart disease",
               mode = "raw")
response %>% str()
```

The `query` component returns
the [cypher](https://neo4j.com/developer/cypher-query-language/)
query that fetches data from the EpiGraphDB neo4j databases.
Once you are sufficiently well-versed in cypher you can construct
your own refined queries to better suit your needs (forthcoming).

```{r}
response$query
```
